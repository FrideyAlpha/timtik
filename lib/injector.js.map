{"version":3,"sources":["scripts/injector.js"],"names":["loadJS","path","Promise","resolve","reject","s","document","createElement","src","crossPlatformBrowser","runtime","getURL","onload","data","this","remove","onerror","head","documentElement","appendChild","executeJS","rawCode","textContent","window","browser","msBrowser","chrome","depsLoaded","addEventListener","event","then"],"mappings":"AAAA,YAIA,SAASA,QAAOC,GACd,MAAO,IAAIC,SAAQ,SAAUC,EAASC,GACpC,GAAIC,GAAIC,SAASC,cAAc,SAC/BF,GAAEG,IAAMC,qBAAqBC,QAAQC,OAAOV,GAE5CI,EAAEO,OAAS,SAAUC,GACnBC,KAAKC,SACLZ,KAGFE,EAAEW,QAAU,SAAUH,GACpBC,KAAKC,SACLX,MAGDE,SAASW,MAAQX,SAASY,iBAAiBC,YAAYd,KAI5D,QAASe,WAAUC,GACjB,GAAIhB,GAAIC,SAASC,cAAc,SAC/BF,GAAEiB,YAAcD,EAEhBhB,EAAEO,OAAS,WACTE,KAAKC,WAGNT,SAASW,MAAQX,SAASY,iBAAiBC,YAAYd,GA7B1D,GAAII,sBAAuBc,OAAOC,SAAWD,OAAOE,WAAaF,OAAOG,QAAUF,SAAWC,WAAaC,MAgC1G1B,QAAO,4BACPA,OAAO,yBACP,IAAI2B,aAAa,CACjBrB,UAASsB,iBAAiB,WAAY,SAAUC,GAC5B,GAAdF,YACF3B,OAAO,uBAAuB8B,KAAK,WACjC,MAAO9B,QAAO,6BACb8B,KAAK,WACN,MAAO9B,QAAO,uBACb8B,KAAK,WACNV,UAAU,6BACVO,YAAa","file":"injector.js","sourcesContent":["\"use strict\";\n\nvar crossPlatformBrowser = window.browser || window.msBrowser || window.chrome || browser || msBrowser || chrome;\n\nfunction loadJS(path) {\n  return new Promise(function (resolve, reject) {\n    var s = document.createElement('script');\n    s.src = crossPlatformBrowser.runtime.getURL(path);\n\n    s.onload = function (data) {\n      this.remove();\n      resolve();\n    };\n\n    s.onerror = function (data) {\n      this.remove();\n      reject();\n    };\n\n    (document.head || document.documentElement).appendChild(s);\n  });\n}\n\nfunction executeJS(rawCode) {\n  var s = document.createElement('script');\n  s.textContent = rawCode;\n\n  s.onload = function () {\n    this.remove();\n  };\n\n  (document.head || document.documentElement).appendChild(s);\n}\n\nloadJS('scripts/bg-processing.js');\nloadJS('scripts/camera-hook.js');\nvar depsLoaded = false;\ndocument.addEventListener('loadDeps', function (event) {\n  if (depsLoaded == false) {\n    loadJS('lib/tfjs-1.2.min.js').then(function () {\n      return loadJS('lib/body-pix-2.0.min.js');\n    }).then(function () {\n      return loadJS('lib/opencv.min.js');\n    }).then(function () {\n      executeJS('window.depsLoaded = true;');\n      depsLoaded = true;\n    });\n  }\n});"]}